# ğŸ½ï¸ ê³¼ì¼ë§›ì§‘ - ë°±ì—”ë“œ

ê³µë™êµ¬ë§¤ ì˜ˆì•½ **ê³¼ì¼ë§›ì§‘**ì˜ ë°±ì—”ë“œ ë ˆí¬ì§€í† ë¦¬ì…ë‹ˆë‹¤.  
ê´€ë¦¬ì/ì‚¬ìš©ììš© ì„œë¹„ìŠ¤ì˜ ì„œë²„ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ë©°, Spring Boot ê¸°ë°˜ RESTful API ì„œë²„ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

---

# ğŸ¯ í”„ë¡œì íŠ¸ ë°°ê²½ & ë¬¸ì œ ì •ì˜
<img width="200" height="500" alt="image" src="https://github.com/user-attachments/assets/29b6769c-b0a8-4de5-b894-6b2abbfdcb81" />

- ë¬¸ì œ: ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì¬ê³ ë¥¼ ê´€ë¦¬í•˜ê³  ì˜ˆì•½ì„ ë°›ë‹¤ ë³´ë‹ˆ í”¼ë¡œë„ê°€ ë†’ê³  ì£¼ë¬¸ ëˆ„ë½ì´ ì¢…ì¢… ë°œìƒí–ˆìŠµë‹ˆë‹¤.
- ëª©í‘œ(í•´ê²°í•˜ê³  ì‹¶ì€ ë¬¸ì œ): í•˜ë‚˜ì˜ ê³µí†µëœ ì±„ë„(ì›¹) ì—ì„œ ì¬ê³ Â·ì˜ˆì•½ì„ ì¼ì›í™”í•´ í”¼ë¡œë„ë¥¼ ë‚®ì¶”ê³  ëˆ„ë½ì„ ë°©ì§€í•©ë‹ˆë‹¤.

## ğŸ“… ì˜ˆì•½/ì·¨ì†Œ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
1. ì†Œë¹„ìëŠ” ì›¹ì—ì„œ ìƒí’ˆ ì˜ˆì•½ í›„, ì˜¤í”„ë¼ì¸ ë§¤ì¥ì—ì„œ ê²°ì œí•˜ê³  ìˆ˜ë ¹í•©ë‹ˆë‹¤.
2. ì˜ˆì•½ ë§ˆê° ì‹œê°„: ì œí’ˆ íŒë§¤ ë‹¹ì¼ 19ì‹œ 30ë¶„ê¹Œì§€ ì˜ˆì•½ ê°€ëŠ¥í•©ë‹ˆë‹¤.
3. ë§¤ì¥ì€ 24ì‹œê°„ ìš´ì˜ë˜ì§€ë§Œ ì§ì›ì€ 19ì‹œê¹Œì§€ë§Œ ìƒì£¼í•©ë‹ˆë‹¤. (19ì‹œ ì´í›„ ë¬´ì¸ ë§¤ì¥ìœ¼ë¡œ ìš´ì˜ë©ë‹ˆë‹¤)
   - 19ì‹œê¹Œì§€ ì°¾ì•„ê°€ì§€ ì•Šì€ ì˜ˆì•½ì€ ìë™ìœ¼ë¡œ ì·¨ì†Œë©ë‹ˆë‹¤.
   - ìë™ ì·¨ì†Œ ë°°ì¹˜ëŠ” ë§¤ì¼ 20ì‹œ 03ë¶„(KST)ì— ì‹¤í–‰ë©ë‹ˆë‹¤.
   - 19ì‹œ ì´í›„ ìˆ˜ë ¹ì„ ì›í•˜ëŠ” ê²½ìš°, ì˜ˆì•½ ìƒíƒœë¥¼ ì…€í”„ ìˆ˜ë ¹ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ë¬´ì¸ ìš´ì˜ ì‹œê°„ì— ìˆ˜ë ¹ ê°€ëŠ¥í•©ë‹ˆë‹¤.
4. ì…€í”„ ìˆ˜ë ¹ ì—¬ë¶€ëŠ” ë‹¤ìŒë‚  í™•ì¸í•˜ë©° ë¯¸ìˆ˜ë ¹ì‹œ ê²½ê³ ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤.
   - ê²½ê³  2íšŒ ëˆ„ì  ì‹œ í•´ë‹¹ ì›”ì—ëŠ” ì…€í”„ ìˆ˜ë ¹ ì„œë¹„ìŠ¤ ì´ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
   - ë§¤ì›” 1ì¼ì— ëª¨ë“  ê³ ê°ì˜ ì…€í”„ ìˆ˜ë ¹ ê²½ê³  íšŸìˆ˜ê°€ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.


## ğŸŒ ë°°í¬ ë§í¬

| í™˜ê²½ | ìœ ì €ìš© | ê´€ë¦¬ììš©                              |
|------|--------|-----------------------------------|
| ìš´ì˜ | https://fruit-matjip.store | https://fruit-matjip.store/admin      |
| í…ŒìŠ¤íŠ¸ | https://dev.fruit-matjip.store | https://dev.fruit-matjip.store/admin |

+ í”„ë¡ íŠ¸ì—”ë“œ ë ˆí¬: [onuljang-fe](https://github.com/SungHoonKim-Ski/onuljang-fe)

---

## ğŸ–¼ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
<img width="1778" height="638" alt="image" src="https://github.com/user-attachments/assets/df914dc7-d0c4-4757-8d97-e8c36d80ab85" />

---

## ğŸ› ï¸ ì£¼ìš” ì´ìŠˆ í•´ê²° ì‚¬ë¡€

### 1. ë©±ë“±ì„± ë³´ì¥ ì •ì‚° êµ¬í˜„

**ë¬¸ì œ**  
ì „ë‚  ì·¨ì†Œëœ ìƒí’ˆì˜ ë§¤ì¶œì„ ì •ì‚°ì— ë°˜ì˜í•´ì•¼ í•˜ëŠ”ë°, ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì¤‘ë³µ ì‹¤í–‰ë˜ê±°ë‚˜ ì¬ì‹œë„ë  ê²½ìš° ì¤‘ë³µ ì§‘ê³„ ìœ„í—˜

**í•´ê²° ë°©ë²•**
- ì •ì‚° í…Œì´ë¸”(`product_daily_agg`)ê³¼ ì‘ì—… í…Œì´ë¸”(`agg_applied`) ë¶„ë¦¬
- ìŠ¤ì¼€ì¤„ëŸ¬ ë™ì‘: `ì‘ì—… í…Œì´ë¸” ë°ì´í„° â†’ ì •ì‚° í…Œì´ë¸”` ìˆœì°¨ ì²˜ë¦¬
- **ë©±ë“±ì„± ë³´ì¥**:
  - ì •ì‚° í…Œì´ë¸”: `(ì˜ˆì•½ PK + ë§¤ì¶œ ë°œìƒ ìœ í˜•)` ë³µí•© Unique Key
  - ì‘ì—… í…Œì´ë¸”: `(íŒë§¤ì¼ + ìƒí’ˆ PK)` ë³µí•© Unique Key

**ê´€ë ¨ íŒŒì¼**  
[`ReservationAggregationScheduler.java`](./src/main/java/store/onuljang/scheduler/ReservationAggregationScheduler.java), [`AdminAggregationAppService.java`](./src/main/java/store/onuljang/appservice/AdminAggregationAppService.java)

---

### 2. ë…¸ì‡¼ ê³ ê° ì¬ê³  ë³µì› ì •í•©ì„±

**ë¬¸ì œ**  
ì˜ˆì•½ ë§ˆê° ì´í›„ ë…¸ì‡¼ ê³ ê°ì˜ ìƒí’ˆ ì¬ê³ ë¥¼ ë³µì›í•  ë•Œ, ë™ì‹œì„± ì´ìŠˆë¡œ ì¸í•œ ì¬ê³  ë¶ˆì¼ì¹˜ ë°œìƒ ê°€ëŠ¥ì„±

**í•´ê²° ë°©ë²•**
1. **GROUP BY ì§‘ê³„**: ë³µêµ¬ ì˜ˆì • ìƒí’ˆ ìˆ˜ëŸ‰ì„ ë¯¸ë¦¬ ê³„ì‚°
2. **ì •í•©ì„± ê²€ì¦**: ë³µì› ì˜ˆìƒ row ìˆ˜ì™€ ì‹¤ì œ ë°˜ì˜ row ìˆ˜ ë¹„êµ, ë¶ˆì¼ì¹˜ ì‹œ ì˜ˆì™¸ ë°œìƒ
3. **Lock ìµœì í™”**: ë°˜ë³µë¬¸ìœ¼ë¡œ ìƒí’ˆë³„ ê°œë³„ Lock íšë“í•˜ì—¬ ì ìœ  ì‹œê°„ ìµœì†Œí™”
4. **ì¬ì‹œë„ ë¡œì§**: Deadlock/LockTimeout/ì¬ê³  ë¶ˆì¼ì¹˜ ì‹œ ìµœëŒ€ 3íšŒ ìë™ ì¬ì‹œë„

**ê´€ë ¨ íŒŒì¼**  
[`ReservationResetScheduler.java`](./src/main/java/store/onuljang/scheduler/ReservationResetScheduler.java), [`ReservationAppService.java`](./src/main/java/store/onuljang/appservice/ReservationAppService.java)

---

### 3. ì¬ê³  ì •í•©ì„± ë¬¸ì œ

**ë¬¸ì œ**  
ì˜ˆì•½ ê´€ë ¨ ì½”ë“œì—ì„œ Lock íšë“ ìˆœì„œê°€ ì¼ê´€ë˜ì§€ ì•Šì•„ Deadlock ë° Lock Timeoutìœ¼ë¡œ ìš”ì²­ ì‹¤íŒ¨ ë°œìƒ

**í•´ê²° ë°©ë²•**  
ì „ì—­ì ìœ¼ë¡œ **Product â†’ User ìˆœì„œ**ë¡œ Lock íšë“ ìˆœì„œë¥¼ ê³ ì •í•˜ì—¬:
- Deadlock ë°œìƒ ê°€ëŠ¥ì„± ì œê±°
- ì¬ê³  ì°¨ê°/ë³µì›ì´ í•­ìƒ ì›ìì Â·ì¼ê´€ì ìœ¼ë¡œ ì²˜ë¦¬

**ê´€ë ¨ íŒŒì¼**  
[`ReservationAppService.java`](./src/main/java/store/onuljang/appservice/ReservationAppService.java)

---

### 4. íŒŒì¼ ì—…ë¡œë“œ ë©”ëª¨ë¦¬ ì´ˆê³¼

**ë¬¸ì œ**  
ëŒ€ìš©ëŸ‰ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì„œë²„ ë©”ëª¨ë¦¬ ë¶€ë‹´ ë° íƒ€ì„ì•„ì›ƒ ë°œìƒ

**í•´ê²° ë°©ë²•**  
AWS S3 Presigned URL ë°©ì‹ ë„ì…:
- í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ S3ì— ì—…ë¡œë“œ
- ë‹¤ê±´ ì—…ë¡œë“œ ì‹œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë³‘ë ¬ ì²˜ë¦¬
- ì„œë²„ ë¶€í•˜ ìµœì†Œí™”

**ê´€ë ¨ íŒŒì¼**  
[`AdminUploadService.java`](./src/main/java/store/onuljang/service/AdminUploadService.java)

---

### 5. ê³¼ë„í•œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ API ìš”ì²­

**ë¬¸ì œ**  
ë§¤ ë¡œê·¸ì¸ë§ˆë‹¤ ì¹´ì¹´ì˜¤ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ë¶ˆí•„ìš”í•œ ì™¸ë¶€ API ì˜ì¡´ì„± ë° ì‘ë‹µ ì§€ì—°

**í•´ê²° ë°©ë²•**  
Refresh Token ê¸°ë°˜ ì¸ì¦ ê°œì„ :
- Refresh Tokenì„ DBì— ì €ì¥
- ë¡œê·¸ì¸ ì‹œ `/auth/refresh` ì—”ë“œí¬ì¸íŠ¸ë¡œ í† í° ê°±ì‹ 
- ì¹´ì¹´ì˜¤ API í˜¸ì¶œ ìµœì†Œí™”

**ê´€ë ¨ íŒŒì¼**  
[`ProdAuthAppServiceImpl.java`](./src/main/java/store/onuljang/appservice/ProdAuthAppServiceImpl.java)


---

## ğŸ§© ìš´ì˜/ê´€ë¦¬ë¥¼ ìœ„í•œ ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… | ê´€ë ¨ íŒŒì¼ |
|------|------|-----------|
| S3ì— ë¡œê·¸ íŒŒì¼ ì—…ë¡œë“œ | warn ì´ìƒ / ëª¨ë“  level ë¡œê·¸ íŒŒì¼ì„ ë§¤ì¼ s3ì— ì—…ë¡œë“œ | [`logback-spring.xml`](./src/main/resources/logback-spring.xml)<br>[`LogUploadScheduler.java`](./src/main/java/store/onuljang/scheduler/LogUploadScheduler.java)|
| ìœ ì €/ê´€ë¦¬ì í–‰ìœ„ ë¡œê¹… | `UserLog`, `AdminLog` í…Œì´ë¸”ì„ í†µí•´ ì£¼ìš” í–‰ë™ ê¸°ë¡ | [`UserLog.java`](./src/main/java/store/onuljang/repository/entity/log/UserLog.java)<br>[`UserReservationLog.java`](./src/main/java/store/onuljang/repository/entity/log/UserReservationLog.java)<br>[`AdminLog.java`](./src/main/java/store/onuljang/repository/entity/log/AdminProductLog.java)<br>[`AdminProductLog.java`](./src/main/java/store/onuljang/repository/entity/log/AdminLog.java) |
| Refresh Token ê´€ë¦¬ | DBì— í•´ì‹œ í˜•íƒœë¡œ ì €ì¥ë˜ê³  `replaced_by` ì»¬ëŸ¼ìœ¼ë¡œ linked-list í˜•ì‹ ì¶”ì  ê°€ëŠ¥ | [`RefreshToken.java`](./src/main/java/store/onuljang/repository/entity/RefreshToken.java) |
| ê´€ë¦¬ì ê¶Œí•œ ê²€ì¦ ê°•í™” | Spring Security í•„í„°, `hasRole`, validate API ì¶”ê°€ë¡œ ë¯¸ê²€ì¦ ë°©ì§€ | [`AdminSecurityConfig.java`](./src/main/java/store/onuljang/auth/AdminSecurityConfig.java) |
| ê´€ë¦¬ì ì¸ì¦ ì»¤ìŠ¤í„°ë§ˆì´ì§• | ì„¸ì…˜ì— ê´€ë¦¬ì ID ì €ì¥ ìœ„í•´ `AdminUserDetail`, `AdminAuthenticationToken` êµ¬í˜„ | [`AdminSecurityConfig.java`](./src/main/java/store/onuljang/auth/AdminSecurityConfig.java)<br>[`AdminUserDetail.java`](./src/main/java/store/onuljang/service/dto/AdminUserDetails.java)<br>[`AdminAuthenticationToken.java`](./src/main/java/store/onuljang/auth/AdminAuthenticationToken.java) |
| Brute Force ì°¨ë‹¨ | ê´€ë¦¬ì ë¡œê·¸ì¸ 5íšŒ ì‹¤íŒ¨ ì‹œ 15ë¶„ ì ê¸ˆ (ì¸ë©”ëª¨ë¦¬) | [`LoginAttemptService.java`](./src/main/java/store/onuljang/auth/LoginAttemptService.java) |
| CSRF ë³´í˜¸ | ê´€ë¦¬ì APIì— CSRF í† í° ê²€ì¦ ì ìš©, í”„ë¡œíŒŒì¼ë³„ ì¿ í‚¤ ë„ë©”ì¸ ë¶„ë¦¬ | [`AdminSecurityConfig.java`](./src/main/java/store/onuljang/auth/AdminSecurityConfig.java)<br>[`CsrfCookieFilter.java`](./src/main/java/store/onuljang/auth/CsrfCookieFilter.java) |
| ë°°ë‹¬ ê²°ì œ ê´€ë¦¬ | ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ ì—°ë™, ë¯¸ê²°ì œ ìë™ ë§Œë£Œ, ê²°ì œ ìƒíƒœ ëŒ€ì‚¬ | [`DeliveryPaymentExpireScheduler.java`](./src/main/java/store/onuljang/scheduler/DeliveryPaymentExpireScheduler.java)<br>[`DeliveryPaymentReconciliationScheduler.java`](./src/main/java/store/onuljang/scheduler/DeliveryPaymentReconciliationScheduler.java) |

---
## ğŸ§ª í–¥í›„ ê°œì„  ì˜ˆì • (TODO)
- [x] **ì˜ˆì•½ ë§ˆê° ì´í›„ ë¯¸ìˆ˜ë ¹ë¶„ ì¼ê´„ì·¨ì†Œ/ì¬ê³ ë³µì›**: ë§¤ì¶œ/ì˜ˆì•½ ê´€ë¦¬ í¸ì˜ì„±ì„ ìœ„í•¨
- [x] **ì˜ˆì•½ ë§ˆê° ì‹œê°„ ìë™ ë¹„í™œì„±í™”**: ì¼ì • ì‹œê°„ ì´í›„ ë‹¹ì¼ íŒë§¤ ìƒí’ˆ ì˜ˆì•½ ë§ˆê° ì²˜ë¦¬
- [x] **ê´€ë¦¬ì íŒë§¤ëŸ‰ ì¡°íšŒ ì§‘ê³„ ê¸°ëŠ¥ ì ìš©**: íŒë§¤ëŸ‰ ì¡°íšŒ ì‹œ ì˜ˆì•½ í…Œì´ë¸” full scanìœ¼ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ ìš°ë ¤
- [x] **ë¡œê·¸ ë°ì´í„° ìŠ¤ì¼€ì¤„ëŸ¬ í™œìš© S3 ì—…ë¡œë“œ**: ì¼íšŒì„± ë¡œê·¸ ë°ì´í„° ê´€ë¦¬ í•„ìš”ì„±
- [x] **cron í™œìš© DB ë°±ì—… S3 ì—…ë¡œë“œ**: DB ë°±ì—… í•„ìš”ì„± - ë§¤ì¼ 1ì‹œ ì—…ë¡œë“œ
- [x] **ë‚ ì§œë³„ í’ˆëª© ë…¸ì¶œ ìˆœì„œ ê¸°ëŠ¥**: ì œí’ˆ ìˆ˜ ì¦ê°€ë¡œ ë…¸ì¶œ í’ˆëª©ì˜ ìˆœì„œ ì§€ì • í•„ìš”ì„±
- [x] **ê´€ë¦¬ì ìƒí’ˆ ì¡°íšŒ í˜ì´ì§€ ê°œì„ **: ê²€ìƒ‰ ê¸°ëŠ¥ ë„ì…
- [x] **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ / í†µí•© í…ŒìŠ¤íŠ¸ ì ìš© ì™„ë£Œ
- [x] **ë°°ë‹¬ ì—°ê³„ / ê²°ì œ ë„ì…**: ì¹´ì¹´ì˜¤í˜ì´ ì—°ë™ ì™„ë£Œ
- [ ] ~~ìµœê³  ê´€ë¦¬ì ê¶Œí•œ ê¸°ëŠ¥ ë„ì…: ë‹¤ë¥¸ ê´€ë¦¬ìì˜ ê¶Œí•œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥í•˜ë„ë¡ í™•ì¥~~ ë³´ë¥˜
- [x] **ìƒí’ˆ ì¹´í…Œê³ ë¦¬í™”**: ì œí’ˆëŸ‰ ì¦ê°€ë¡œ ì¸í•´ ì‚¬ìš©ìì—ê²Œ ë³´ì¼ í’ˆëª©ì˜ ìˆœì„œ ì§€ì • í•„ìš”ì„±


---

## ğŸ“ ì½”ë“œ ê³„ì¸µ êµ¬ì¡°

í•´ë‹¹ ë°±ì—”ë“œ í”„ë¡œì íŠ¸ëŠ” **ë„ë©”ì¸ ê³„ì¸µ êµ¬ë¶„ì„ ì ìš©í•œ êµ¬ì¡°**ë¡œ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

```text
Controller
   â†“
AppService (use-case ë‹¨ìœ„)
   â†“
Service (ì„¸ë¶€ ë„ë©”ì¸ ë¡œì§)
   â†“
Repository (JPA ê¸°ë°˜ DB ì ‘ê·¼)
```

| ê³„ì¸µ        | ì„¤ëª… |
|-------------|------|
| `Controller` | HTTP ìš”ì²­ ì²˜ë¦¬ ë° ì‘ë‹µ ë°˜í™˜. ì¸ì¦ëœ ìœ ì € ì •ë³´ë¥¼ ë°›ì•„ appServiceë¡œ ì „ë‹¬ |
| `AppService` | use-case ë‹¨ìœ„ë¡œ ë¬¶ì¸ ì£¼ìš” ê¸°ëŠ¥ ë‹¨ìœ„. íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ë¨ |
| `Service`    | ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ ì¤‘ì‹¬ì˜ ë‚´ë¶€ ë¡œì§ ë‹´ë‹¹ |
| `Repository` | JPA ê¸°ë°˜ DB ì ‘ê·¼ ê³„ì¸µ (ì¿¼ë¦¬ ë©”ì„œë“œ, fetch join ë“± í¬í•¨) |
---

## ğŸš€ ë°°í¬ ì „ëµ

- GitHub Actionsë¥¼ í™œìš©í•´ í…ŒìŠ¤íŠ¸/ìƒìš© í™˜ê²½ CI/CD ìë™í™”
- **íƒœê·¸ í‘¸ì‹œ ì‹œì ì—ë§Œ ë°°í¬ ìˆ˜í–‰**

```yaml
on:
  push:
    tags:
      - "[0-9]+\.[0-9]+\.[0-9]+-[dp]\.[0-9]+"
```

- ë°°í¬ ë¶„ê¸° ë¡œì§ì€ GitHub Actions ìŠ¤í¬ë¦½íŠ¸ ë‚´ë¶€ì—ì„œ `-d`(dev), `-p`(prod) ì ‘ë¯¸ì–´ë¡œ íŒë‹¨

### ì£¼ìš” í…ŒìŠ¤íŠ¸ íŒŒì¼

42ê°œ í…ŒìŠ¤íŠ¸ íŒŒì¼, 330ê°œ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ

| í…ŒìŠ¤íŠ¸ íŒŒì¼ | ì„¤ëª… | í…ŒìŠ¤íŠ¸ ìˆ˜ |
|------------|------|----------|
| [`AdminProductIntegrationTest`](./src/test/java/store/onuljang/integration/AdminProductIntegrationTest.java) | ê´€ë¦¬ì ìƒí’ˆ ê´€ë¦¬ API (CRUD/ì¹´í…Œê³ ë¦¬/ì´ë¯¸ì§€/ìˆœì„œ) | 22ê°œ |
| [`ReservationIntegrationTest`](./src/test/java/store/onuljang/integration/ReservationIntegrationTest.java) | ì‚¬ìš©ì ì˜ˆì•½ API (ìƒì„±/ì·¨ì†Œ/ìˆ˜ëŸ‰ë³€ê²½/ì…€í”„í”½ì—…) | 14ê°œ |
| [`ProductsIntegrationTest`](./src/test/java/store/onuljang/integration/ProductsIntegrationTest.java) | ì‚¬ìš©ì ìƒí’ˆ ì¡°íšŒ API | 11ê°œ |
| [`AdminCustomerFilterIntegrationTest`](./src/test/java/store/onuljang/integration/AdminCustomerFilterIntegrationTest.java) | ê³ ê° ê´€ë¦¬ í•„í„°/ì •ë ¬ API | 9ê°œ |
| [`UserIntegrationTest`](./src/test/java/store/onuljang/integration/UserIntegrationTest.java) | ì‚¬ìš©ì ì •ë³´ ê´€ë¦¬ API | 9ê°œ |
| [`UserRestrictionIntegrationTest`](./src/test/java/store/onuljang/integration/UserRestrictionIntegrationTest.java) | ì´ìš©ì œí•œ/ê²½ê³  API | 9ê°œ |
| [`AdminReservationIntegrationTest`](./src/test/java/store/onuljang/integration/AdminReservationIntegrationTest.java) | ê´€ë¦¬ì ì˜ˆì•½ ê´€ë¦¬ API | 7ê°œ |
| [`ProductCategoryIntegrationTest`](./src/test/java/store/onuljang/integration/ProductCategoryIntegrationTest.java) | ìƒí’ˆ ì¹´í…Œê³ ë¦¬ API | 7ê°œ |
| [`DeliveryReservationStatusIntegrationTest`](./src/test/java/store/onuljang/integration/DeliveryReservationStatusIntegrationTest.java) | ë°°ë‹¬ ì˜ˆì•½ ìƒíƒœ ê´€ë¦¬ | 5ê°œ |
| [`ConcurrentReservationIntegrationTest`](./src/test/java/store/onuljang/integration/ConcurrentReservationIntegrationTest.java) | ë™ì‹œì„± ì˜ˆì•½ ì‹œë‚˜ë¦¬ì˜¤ | 4ê°œ |
| [`AdminAggregationIntegrationTest`](./src/test/java/store/onuljang/integration/AdminAggregationIntegrationTest.java) | ê´€ë¦¬ì íŒë§¤ ì§‘ê³„ ì¡°íšŒ API | 4ê°œ |
| [`AdminLoginBruteForceIntegrationTest`](./src/test/java/store/onuljang/integration/AdminLoginBruteForceIntegrationTest.java) | ë¡œê·¸ì¸ Brute Force ì°¨ë‹¨ | 4ê°œ |
| [`AdminControllerIntegrationTest`](./src/test/java/store/onuljang/integration/AdminControllerIntegrationTest.java) | ê´€ë¦¬ì ì¸ì¦/ê¶Œí•œ API | 4ê°œ |
| [`ReservationResetSchedulerTest`](./src/test/java/store/onuljang/scheduler/ReservationResetSchedulerTest.java) | ì˜ˆì•½ ì´ˆê¸°í™” ìŠ¤ì¼€ì¤„ëŸ¬ | 3ê°œ |
| [`DeliveryPaymentReconciliationSchedulerTest`](./src/test/java/store/onuljang/scheduler/DeliveryPaymentReconciliationSchedulerTest.java) | ì¹´ì¹´ì˜¤í˜ì´ ê²°ì œ ëŒ€ì‚¬ ìŠ¤ì¼€ì¤„ëŸ¬ | 5ê°œ |
| [`DeliveryPaymentExpireSchedulerTest`](./src/test/java/store/onuljang/scheduler/DeliveryPaymentExpireSchedulerTest.java) | ë¯¸ê²°ì œ ì£¼ë¬¸ ë§Œë£Œ ìŠ¤ì¼€ì¤„ëŸ¬ | 4ê°œ |
| [`ReservationAggregationSchedulerTest`](./src/test/java/store/onuljang/scheduler/ReservationAggregationSchedulerTest.java) | ì˜ˆì•½ ì§‘ê³„ ìŠ¤ì¼€ì¤„ëŸ¬ | 4ê°œ |

### CI/CD í†µí•©

- **ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: PR ë° main/develop ë¸Œëœì¹˜ push ì‹œ ìë™ ì‹¤í–‰
- **ë°°í¬ ì „ ê²€ì¦**: íƒœê·¸ ê¸°ë°˜ ë°°í¬ ì‹œ í…ŒìŠ¤íŠ¸ í†µê³¼ í•„ìˆ˜
- **í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸**: GitHub Actionsì—ì„œ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ë° ë¦¬í¬íŠ¸ ìë™ ìƒì„±

```bash
# ë¡œì»¬ì—ì„œ ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰
./gradlew test --tests AdminReservationIntegrationTest
```

---

## âš™ï¸ ê¸°ìˆ  ìŠ¤íƒ

- Java 17 / Spring Boot 3.4
- Spring Security + JWT
- Spring Data JPA + QueryDSL (MySQL)
- Kakao OAuth ë¡œê·¸ì¸
- KakaoPay ê²°ì œ ì—°ë™
- AWS S3 + Presigned-url ê¸°ë°˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ
- Spring Session JDBC ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬
- OpenFeign (ì¹´ì¹´ì˜¤ API ì—°ë™)

---

## ğŸ” ì¸ì¦/ì¸ê°€ ì•„í‚¤í…ì²˜

| êµ¬ë¶„ | ì¸ì¦ ë°©ì‹ | ìƒì„¸ ì„¤ëª… |
|------|-----------|-----------|
| ì‚¬ìš©ì | JWT + Kakao OAuth | Kakao ë¡œê·¸ì¸ í›„ JWT (Access / Refresh) ë°œê¸‰ ë° ì¿ í‚¤ ì €ì¥ |
| ê´€ë¦¬ì | Spring Session ê¸°ë°˜ | JDBC ì„¸ì…˜ ì €ì¥ì†Œ ì‚¬ìš©, `ADMINSESSION` ì¿ í‚¤ ê¸°ë°˜ ë¡œê·¸ì¸ ìœ ì§€ |

- ì‚¬ìš©ìëŠ” `ì¹´ì¹´ì˜¤ OAuth â†’ ìì²´ JWT ë°œê¸‰ â†’ ì¿ í‚¤ ì €ì¥` ë°©ì‹
- ê´€ë¦¬ìëŠ” ì„¸ì…˜ ì¿ í‚¤ë¥¼ í†µí•œ ìƒíƒœ ê¸°ë°˜ ì¸ì¦ ìœ ì§€
- Refresh Token ì¬ì‚¬ìš© ê°ì§€ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ ì „ì²´ í† í° ì¼ê´„ revoke
- ê´€ë¦¬ì ë¡œê·¸ì¸ Brute Force ì°¨ë‹¨ (5íšŒ ì‹¤íŒ¨ â†’ 15ë¶„ ì ê¸ˆ)
- ê´€ë¦¬ì API CSRF ë³´í˜¸ (CookieCsrfTokenRepository, í”„ë¡œíŒŒì¼ë³„ ì¿ í‚¤ ë„ë©”ì¸ ë¶„ë¦¬)
- ë³´ì•ˆ í—¤ë” ì ìš© (X-Frame-Options, HSTS, CSP, X-Content-Type-Options)
